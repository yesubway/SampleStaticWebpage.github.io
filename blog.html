<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>블로그 미리보기</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="navbar"></div>
  <div class="content">
    <h1>최신 블로그 글</h1>
    <ul id="rss-feed"></ul>
    <script>
      const rssUrl = "https://rss.blog.naver.com/memo201.xml";
      const proxyUrl = "https://api.allorigins.win/get?url=" + encodeURIComponent(rssUrl);

      fetch(proxyUrl)
        .then(response => response.json())
        .then(data => {
          const parser = new DOMParser();
          const xml = parser.parseFromString(data.contents, "text/xml");
          const items = xml.querySelectorAll("item");
          const feedContainer = document.getElementById("rss-feed");

          items.forEach((item, index) => {
            if (index >= 5) return; // 최대 5개까지만 표시
            const title = item.querySelector("title").textContent;
            const link = item.querySelector("link").textContent;
            const pubDate = item.querySelector("pubDate").textContent;

            const li = document.createElement("li");
            li.innerHTML = `<a href="${link}" target="_blank">${title}</a><small>${pubDate}</small>`;
            feedContainer.appendChild(li);
          });
        })
        .catch(error => {
          document.getElementById("rss-feed").innerHTML = "<li>블로그 글을 불러올 수 없습니다.</li>";
          console.error("RSS 불러오기 실패:", error);
        });
    </script>
  </div>
  <script src="commonnav.js"></script>
</body>
</html>